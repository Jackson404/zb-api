{"remainingRequest":"C:\\Users\\lifei\\lifei\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\lifei\\lifei\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\lifei\\lifei\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lifei\\lifei\\src\\components\\Login\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lifei\\lifei\\src\\components\\Login\\Login.vue","mtime":1566280931742},{"path":"C:\\Users\\lifei\\lifei\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lifei\\lifei\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\lifei\\lifei\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lifei\\lifei\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'Staff',\n  data: function data() {\n    var _this2 = this;\n\n    var validatePass = function validatePass(rule, value, callback) {\n      if (value === '') {\n        callback(new Error('请输入账号'));\n      } else {\n        if (_this2.ruleForm.checkPass !== '') {\n          _this2.$refs.ruleForm.validateField('checkPass');\n        }\n\n        callback();\n      }\n    };\n\n    var validatePass2 = function validatePass2(rule, value, callback) {\n      if (value === '') {\n        callback(new Error('请输入验证码'));\n      } else {\n        callback();\n      }\n    };\n\n    return {\n      ruleForm: {\n        pass: '',\n        checkPass: '',\n        age: ''\n      },\n      rules: {\n        pass: [{\n          validator: validatePass,\n          trigger: 'blur'\n        }],\n        checkPass: [{\n          validator: validatePass2,\n          trigger: 'blur'\n        }]\n      },\n      send: true,\n      num: 60\n    };\n  },\n  created: function created() {},\n  methods: {\n    submitForm: function submitForm(formName) {\n      var _this3 = this;\n\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          console.log(valid);\n          console.log(_this3);\n          _this3.$_loading = _this3.$loading({\n            lock: true,\n            text: 'Loading',\n            spinner: 'el-icon-loading',\n            background: 'rgba(0, 0, 0, 0.7)'\n          });\n          var data = {\n            accessToken: '1565742674|145B1691263AEC04CC1722BA2EF68A86',\n            phone: _this3.ruleForm.pass,\n            vCode: _this3.ruleForm.checkPass\n          };\n          var _this = _this3;\n\n          _this3.$http.login(data).then(function (res) {\n            console.log(res);\n\n            _this.$_loading.close(); //切换发送显示\n\n\n            _this.send = false;\n\n            if (res.errorCode == 0) {\n              //存到cookies\n              _this3.$cookies.set('access_token', res.data.id_token);\n\n              _this3.$cookies.set('name', res.data.realname);\n\n              var data = {\n                access_token: res.data.id_token,\n                name: res.data.realname\n              }; //分发actions 中声明的方法\n\n              _this3.$store.dispatch('getUser', data);\n\n              if (res.data.isReview == 2) {\n                _this3.$message({\n                  message: '登录成功',\n                  type: 'success'\n                }); //回到前面的数据\n                // this.$router.go(-1);\n\n\n                _this3.$router.push({\n                  name: 'Index',\n                  params: {\n                    id: 1\n                  }\n                });\n              } //第一次登录 去审核\n\n\n              if (res.data.isReview == 0) {\n                //跳转认证\n                _this3.$router.push({\n                  name: 'Attestation',\n                  params: {\n                    access_token: res.data.id_token\n                  }\n                });\n              } //第一次登录 去审核\n\n\n              if (res.data.isReview == 1) {\n                //跳转认证\n                _this3.$message({\n                  showClose: true,\n                  message: '您的账户审核中，稍后再试',\n                  type: 'error'\n                });\n\n                return;\n              }\n            }\n          }).catch(function (err) {\n            console.log(err);\n          });\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    },\n    resetForm: function resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n    sendCode: function sendCode() {\n      if (this.ruleForm.pass.length == 0) {\n        this.$message({\n          message: '请输入手机号哦',\n          type: 'warning'\n        });\n        return;\n      }\n\n      var data = {\n        accessToken: '1565742674|145B1691263AEC04CC1722BA2EF68A86',\n        phone: this.ruleForm.pass\n      }; // this.$http.sendSmss(data)\n      //发送验证码\n\n      var _this = this;\n\n      this.$http.sendSmss(data).then(function (res) {\n        console.log(res); //切换发送显示\n\n        _this.send = false;\n\n        if (res.errorCode == 0) {\n          _this.$message({\n            message: '验证码发送成功',\n            type: 'success'\n          }); //倒计时\n\n\n          _this.countdown();\n        } else if (res.errorCode == -20000013) {\n          _this.$message({\n            message: '请输入正确手机号',\n            type: 'warning'\n          });\n        } else {\n          _this.$message({\n            message: res.msg,\n            type: 'warning'\n          });\n        }\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    countdown: function countdown() {\n      var num = 59;\n\n      var _this = this;\n\n      var timer = setInterval(function () {\n        if (num == 0) {\n          _this.send = true;\n          _this.num = 60;\n          clearInterval(timer);\n        } else {\n          _this.num = num--;\n        }\n      }, 1000);\n    }\n  }\n};",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAGA,EAAA,IAHA,kBAGA;AAAA;;AACA,QAAA,YAAA,GAAA,SAAA,YAAA,CAAA,IAAA,EAAA,KAAA,EAAA,QAAA,EAAA;AACA,UAAA,KAAA,KAAA,EAAA,EAAA;AACA,QAAA,QAAA,CAAA,IAAA,KAAA,CAAA,OAAA,CAAA,CAAA;AACA,OAFA,MAEA;AACA,YAAA,MAAA,CAAA,QAAA,CAAA,SAAA,KAAA,EAAA,EAAA;AACA,UAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,aAAA,CAAA,WAAA;AACA;;AACA,QAAA,QAAA;AACA;AACA,KATA;;AAUA,QAAA,aAAA,GAAA,SAAA,aAAA,CAAA,IAAA,EAAA,KAAA,EAAA,QAAA,EAAA;AACA,UAAA,KAAA,KAAA,EAAA,EAAA;AACA,QAAA,QAAA,CAAA,IAAA,KAAA,CAAA,QAAA,CAAA,CAAA;AACA,OAFA,MAEA;AACA,QAAA,QAAA;AACA;AACA,KANA;;AAOA,WAAA;AACA,MAAA,QAAA,EAAA;AACA,QAAA,IAAA,EAAA,EADA;AAEA,QAAA,SAAA,EAAA,EAFA;AAGA,QAAA,GAAA,EAAA;AAHA,OADA;AAMA,MAAA,KAAA,EAAA;AACA,QAAA,IAAA,EAAA,CAAA;AAAA,UAAA,SAAA,EAAA,YAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA,CADA;AAEA,QAAA,SAAA,EAAA,CAAA;AAAA,UAAA,SAAA,EAAA,aAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA;AAFA,OANA;AAUA,MAAA,IAAA,EAAA,IAVA;AAWA,MAAA,GAAA,EAAA;AAXA,KAAA;AAaA,GAlCA;AAmCA,EAAA,OAnCA,qBAmCA,CAAA,CAnCA;AAoCA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,QADA,EACA;AAAA;;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AAEA,UAAA,MAAA,CAAA,SAAA,GAAA,MAAA,CAAA,QAAA,CAAA;AACA,YAAA,IAAA,EAAA,IADA;AAEA,YAAA,IAAA,EAAA,SAFA;AAGA,YAAA,OAAA,EAAA,iBAHA;AAIA,YAAA,UAAA,EAAA;AAJA,WAAA,CAAA;AAMA,cAAA,IAAA,GAAA;AACA,YAAA,WAAA,EAAA,6CADA;AAEA,YAAA,KAAA,EAAA,MAAA,CAAA,QAAA,CAAA,IAFA;AAGA,YAAA,KAAA,EAAA,MAAA,CAAA,QAAA,CAAA;AAHA,WAAA;AAMA,cAAA,KAAA,GAAA,MAAA;;AACA,UAAA,MAAA,CAAA,KAAA,CACA,KADA,CACA,IADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AACA,YAAA,KAAA,CAAA,SAAA,CAAA,KAAA,GAFA,CAGA;;;AACA,YAAA,KAAA,CAAA,IAAA,GAAA,KAAA;;AACA,gBAAA,GAAA,CAAA,SAAA,IAAA,CAAA,EAAA;AACA;AACA,cAAA,MAAA,CAAA,QAAA,CAAA,GAAA,CAAA,cAAA,EAAA,GAAA,CAAA,IAAA,CAAA,QAAA;;AAEA,cAAA,MAAA,CAAA,QAAA,CAAA,GAAA,CAAA,MAAA,EAAA,GAAA,CAAA,IAAA,CAAA,QAAA;;AACA,kBAAA,IAAA,GAAA;AACA,gBAAA,YAAA,EAAA,GAAA,CAAA,IAAA,CAAA,QADA;AAEA,gBAAA,IAAA,EAAA,GAAA,CAAA,IAAA,CAAA;AAFA,eAAA,CALA,CASA;;AACA,cAAA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,SAAA,EAAA,IAAA;;AAEA,kBAAA,GAAA,CAAA,IAAA,CAAA,QAAA,IAAA,CAAA,EAAA;AACA,gBAAA,MAAA,CAAA,QAAA,CAAA;AACA,kBAAA,OAAA,EAAA,MADA;AAEA,kBAAA,IAAA,EAAA;AAFA,iBAAA,EADA,CAMA;AACA;;;AACA,gBAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,kBAAA,IAAA,EAAA,OAAA;AAAA,kBAAA,MAAA,EAAA;AAAA,oBAAA,EAAA,EAAA;AAAA;AAAA,iBAAA;AACA,eArBA,CAsBA;;;AACA,kBAAA,GAAA,CAAA,IAAA,CAAA,QAAA,IAAA,CAAA,EAAA;AACA;AACA,gBAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,kBAAA,IAAA,EAAA,aAAA;AAAA,kBAAA,MAAA,EAAA;AAAA,oBAAA,YAAA,EAAA,GAAA,CAAA,IAAA,CAAA;AAAA;AAAA,iBAAA;AACA,eA1BA,CA2BA;;;AACA,kBAAA,GAAA,CAAA,IAAA,CAAA,QAAA,IAAA,CAAA,EAAA;AACA;AACA,gBAAA,MAAA,CAAA,QAAA,CAAA;AACA,kBAAA,SAAA,EAAA,IADA;AAEA,kBAAA,OAAA,EAAA,cAFA;AAGA,kBAAA,IAAA,EAAA;AAHA,iBAAA;;AAMA;AACA;AACA;AACA,WA9CA,EA+CA,KA/CA,CA+CA,UAAA,GAAA,EAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,WAjDA;AAkDA,SAnEA,MAmEA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,gBAAA;AACA,iBAAA,KAAA;AACA;AACA,OAxEA;AAyEA,KA3EA;AA4EA,IAAA,SA5EA,qBA4EA,QA5EA,EA4EA;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,WAAA;AACA,KA9EA;AA+EA,IAAA,QA/EA,sBA+EA;AACA,UAAA,KAAA,QAAA,CAAA,IAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,aAAA,QAAA,CAAA;AACA,UAAA,OAAA,EAAA,SADA;AAEA,UAAA,IAAA,EAAA;AAFA,SAAA;AAIA;AACA;;AACA,UAAA,IAAA,GAAA;AACA,QAAA,WAAA,EAAA,6CADA;AAEA,QAAA,KAAA,EAAA,KAAA,QAAA,CAAA;AAFA,OAAA,CARA,CAYA;AACA;;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,WAAA,KAAA,CACA,QADA,CACA,IADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA,EADA,CAEA;;AACA,QAAA,KAAA,CAAA,IAAA,GAAA,KAAA;;AACA,YAAA,GAAA,CAAA,SAAA,IAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA;AACA,YAAA,OAAA,EAAA,SADA;AAEA,YAAA,IAAA,EAAA;AAFA,WAAA,EADA,CAMA;;;AACA,UAAA,KAAA,CAAA,SAAA;AACA,SARA,MAQA,IAAA,GAAA,CAAA,SAAA,IAAA,CAAA,QAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA;AACA,YAAA,OAAA,EAAA,UADA;AAEA,YAAA,IAAA,EAAA;AAFA,WAAA;AAIA,SALA,MAKA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA;AACA,YAAA,OAAA,EAAA,GAAA,CAAA,GADA;AAEA,YAAA,IAAA,EAAA;AAFA,WAAA;AAIA;AACA,OAzBA,EA0BA,KA1BA,CA0BA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,OA5BA;AA6BA,KA3HA;AA4HA,IAAA,SA5HA,uBA4HA;AACA,UAAA,GAAA,GAAA,EAAA;;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,UAAA,KAAA,GAAA,WAAA,CAAA,YAAA;AACA,YAAA,GAAA,IAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,IAAA,GAAA,IAAA;AACA,UAAA,KAAA,CAAA,GAAA,GAAA,EAAA;AACA,UAAA,aAAA,CAAA,KAAA,CAAA;AACA,SAJA,MAIA;AACA,UAAA,KAAA,CAAA,GAAA,GAAA,GAAA,EAAA;AACA;AACA,OARA,EAQA,IARA,CAAA;AASA;AAxIA;AApCA,CAAA","sourcesContent":["<template>\r\n\t<div style=\"width: 100%;height: 100vh;background: #fff;\">\r\n\t\t<div style=\"width: 100%;height: 300px;line-height: 300px;font-size: 40px;color: #666;text-align: center;letter-spacing: 4px;\">企业登录</div>\r\n\r\n\t\t<div style=\"width: 500px;margin:0 auto;\">\r\n\t\t\t<el-form\r\n\t\t\t\t:model=\"ruleForm\"\r\n\t\t\t\tstatus-icon\r\n\t\t\t\t:rules=\"rules\"\r\n\t\t\t\tref=\"ruleForm\"\r\n\t\t\t\tlabel-width=\"100px\"\r\n\t\t\t\tclass=\"demo-ruleForm\"\r\n\t\t\t\tstyle=\"border: 1px solid #ebebeb;box-sizing: border-box;padding: 80px 70px 50px 30px;\"\r\n\t\t\t>\r\n\t\t\t\t<el-form-item label=\"账号\" prop=\"pass\" style=\"text-align: center;\">\r\n\t\t\t\t\t<el-input type=\"text\" v-model=\"ruleForm.pass\" autocomplete=\"off\" placeholder=\"请输入账号\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"验证码\" prop=\"checkPass\" style=\"text-align: center;position: relative;\">\r\n\t\t\t\t\t<el-input type=\"password\" v-model=\"ruleForm.checkPass\" autocomplete=\"off\" placeholder=\"请输入验证码\"></el-input>\r\n\t\t\t\t\t<el-button @click=\"sendCode\" v-if=\"send\" type=\"primary\" style=\"position: absolute;right: 0;top: 0;padding: 12px 30px;\">获取验证码</el-button>\r\n\t\t\t\t\t<el-button v-else type=\"primary\" style=\"position: absolute;right: 0;top: 0;padding: 12px 30px;\">{{ num }} s</el-button>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item>\r\n\t\t\t\t\t<el-button type=\"primary\" @click=\"submitForm('ruleForm')\">登录</el-button>\r\n\t\t\t\t\t<el-button @click=\"resetForm('ruleForm')\">重置</el-button>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: 'Staff',\r\n\r\n\tdata() {\r\n\t\tvar validatePass = (rule, value, callback) => {\r\n\t\t\tif (value === '') {\r\n\t\t\t\tcallback(new Error('请输入账号'));\r\n\t\t\t} else {\r\n\t\t\t\tif (this.ruleForm.checkPass !== '') {\r\n\t\t\t\t\tthis.$refs.ruleForm.validateField('checkPass');\r\n\t\t\t\t}\r\n\t\t\t\tcallback();\r\n\t\t\t}\r\n\t\t};\r\n\t\tvar validatePass2 = (rule, value, callback) => {\r\n\t\t\tif (value === '') {\r\n\t\t\t\tcallback(new Error('请输入验证码'));\r\n\t\t\t} else {\r\n\t\t\t\tcallback();\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn {\r\n\t\t\truleForm: {\r\n\t\t\t\tpass: '',\r\n\t\t\t\tcheckPass: '',\r\n\t\t\t\tage: ''\r\n\t\t\t},\r\n\t\t\trules: {\r\n\t\t\t\tpass: [{ validator: validatePass, trigger: 'blur' }],\r\n\t\t\t\tcheckPass: [{ validator: validatePass2, trigger: 'blur' }]\r\n\t\t\t},\r\n\t\t\tsend: true,\r\n\t\t\tnum: 60\r\n\t\t};\r\n\t},\r\n\tcreated() {},\r\n\tmethods: {\r\n\t\tsubmitForm(formName) {\r\n\t\t\tthis.$refs[formName].validate(valid => {\r\n\t\t\t\tif (valid) {\r\n\t\t\t\t\tconsole.log(valid);\r\n\t\t\t\t\tconsole.log(this);\r\n\r\n\t\t\t\t\tthis.$_loading = this.$loading({\r\n\t\t\t\t\t\tlock: true,\r\n\t\t\t\t\t\ttext: 'Loading',\r\n\t\t\t\t\t\tspinner: 'el-icon-loading',\r\n\t\t\t\t\t\tbackground: 'rgba(0, 0, 0, 0.7)'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tvar data = {\r\n\t\t\t\t\t\taccessToken: '1565742674|145B1691263AEC04CC1722BA2EF68A86',\r\n\t\t\t\t\t\tphone: this.ruleForm.pass,\r\n\t\t\t\t\t\tvCode: this.ruleForm.checkPass\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tvar _this = this;\r\n\t\t\t\t\tthis.$http\r\n\t\t\t\t\t\t.login(data)\r\n\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t\t_this.$_loading.close();\r\n\t\t\t\t\t\t\t//切换发送显示\r\n\t\t\t\t\t\t\t_this.send = false;\r\n\t\t\t\t\t\t\tif (res.errorCode == 0) {\r\n\t\t\t\t\t\t\t\t//存到cookies\r\n\t\t\t\t\t\t\t\tthis.$cookies.set('access_token', res.data.id_token);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tthis.$cookies.set('name', res.data.realname);\r\n\t\t\t\t\t\t\t\tvar data = {\r\n\t\t\t\t\t\t\t\t\taccess_token: res.data.id_token,\r\n\t\t\t\t\t\t\t\t\tname:res.data.realname\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t//分发actions 中声明的方法\r\n\t\t\t\t\t\t\t\tthis.$store.dispatch('getUser', data);\r\n\r\n\t\t\t\t\t\t\t\tif (res.data.isReview == 2) {\r\n\t\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\t\tmessage: '登录成功',\r\n\t\t\t\t\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\t//回到前面的数据\r\n\t\t\t\t\t\t\t\t\t// this.$router.go(-1);\r\n\t\t\t\t\t\t\t\t\tthis.$router.push({ name: 'Index', params: { id: 1 } });\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t//第一次登录 去审核\r\n\t\t\t\t\t\t\t\tif (res.data.isReview == 0) {\r\n\t\t\t\t\t\t\t\t\t//跳转认证\r\n\t\t\t\t\t\t\t\t\tthis.$router.push({ name: 'Attestation', params: { access_token: res.data.id_token } });\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t//第一次登录 去审核\r\n\t\t\t\t\t\t\t\tif (res.data.isReview == 1) {\r\n\t\t\t\t\t\t\t\t\t//跳转认证\r\n\t\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\t\t\t\t\tmessage: '您的账户审核中，稍后再试',\r\n\t\t\t\t\t\t\t\t\t\ttype: 'error'\r\n\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log('error submit!!');\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tresetForm(formName) {\r\n\t\t\tthis.$refs[formName].resetFields();\r\n\t\t},\r\n\t\tsendCode() {\r\n\t\t\tif (this.ruleForm.pass.length == 0) {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\tmessage: '请输入手机号哦',\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar data = {\r\n\t\t\t\taccessToken: '1565742674|145B1691263AEC04CC1722BA2EF68A86',\r\n\t\t\t\tphone: this.ruleForm.pass\r\n\t\t\t};\r\n\t\t\t// this.$http.sendSmss(data)\r\n\t\t\t//发送验证码\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.$http\r\n\t\t\t\t.sendSmss(data)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t//切换发送显示\r\n\t\t\t\t\t_this.send = false;\r\n\t\t\t\t\tif (res.errorCode == 0) {\r\n\t\t\t\t\t\t_this.$message({\r\n\t\t\t\t\t\t\tmessage: '验证码发送成功',\r\n\t\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t//倒计时\r\n\t\t\t\t\t\t_this.countdown();\r\n\t\t\t\t\t} else if (res.errorCode == -20000013) {\r\n\t\t\t\t\t\t_this.$message({\r\n\t\t\t\t\t\t\tmessage: '请输入正确手机号',\r\n\t\t\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_this.$message({\r\n\t\t\t\t\t\t\tmessage: res.msg,\r\n\t\t\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tcountdown() {\r\n\t\t\tvar num = 59;\r\n\t\t\tvar _this = this;\r\n\t\t\tvar timer = setInterval(function() {\r\n\t\t\t\tif (num == 0) {\r\n\t\t\t\t\t_this.send = true;\r\n\t\t\t\t\t_this.num = 60;\r\n\t\t\t\t\tclearInterval(timer);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_this.num = num--;\r\n\t\t\t\t}\r\n\t\t\t}, 1000);\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.hello {\r\n\tdisplay: none;\r\n}\r\n.cc {\r\n\tmargin-top: 0 !important;\r\n}\r\n.el-button {\r\n\tpadding: 10px 45px;\r\n}\r\n.demonstration {\r\n\tdisplay: block;\r\n\tmargin: 0 auto;\r\n\tcursor: pointer;\r\n\tcolor: #8492a6;\r\n\tfont-size: 14px;\r\n}\r\n</style>\n"],"sourceRoot":"src/components/Login"}]}