{"version":3,"sources":["webpack:///C:/Users/lifei/Documents/HBuilderProjects/招聘/main.js","webpack:///C:/Users/lifei/Documents/HBuilderProjects/招聘/pages/phone/phone.vue?0bdc","webpack:///C:/Users/lifei/Documents/HBuilderProjects/招聘/pages/phone/phone.vue?3047","webpack:///C:/Users/lifei/Documents/HBuilderProjects/招聘/pages/phone/phone.vue?87fb","webpack:///C:/Users/lifei/Documents/HBuilderProjects/招聘/pages/phone/phone.vue","webpack:///C:/Users/lifei/Documents/HBuilderProjects/招聘/pages/phone/phone.vue?9e6a"],"names":["Page","App","WXBizDataCrypt","require","data","login_code","onLoad","that","uni","login","success","res","console","log","JSON","stringify","code","methods","getPhoneNumber","e","detail","errMsg","encryptedData","iv","JSCODE","APPID","SECRET","wx_author_url","request","url","re","session_key","appId","sessionKey","pc","decryptData"],"mappings":"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","file":"pages/phone/phone.js","sourcesContent":["import 'uni-pages';\nimport pageFactory from 'mpvue-page-factory'\n    import App from './pages/phone/phone.vue'\n    Page(pageFactory(App))","import { render, staticRenderFns } from \"./phone.vue?vue&type=template&id=14a6fb3d&\"\nimport script from \"./phone.vue?vue&type=script&lang=js&\"\nexport * from \"./phone.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Downloads/HBuilderX.0.1.47.20180823-alpha.full/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\lifei\\\\Downloads\\\\HBuilderX.0.1.47.20180823-alpha.full\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('14a6fb3d', component.options)\n    } else {\n      api.reload('14a6fb3d', component.options)\n    }\n    module.hot.accept(\"./phone.vue?vue&type=template&id=14a6fb3d&\", function () {\n      api.rerender('14a6fb3d', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Documents/HBuilderProjects/招聘/pages/phone/phone.vue\"\nexport default component.exports","import mod from \"-!../../../../../Downloads/HBuilderX.0.1.47.20180823-alpha.full/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX.0.1.47.20180823-alpha.full/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX.0.1.47.20180823-alpha.full/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../Downloads/HBuilderX.0.1.47.20180823-alpha.full/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX.0.1.47.20180823-alpha.full/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./phone.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX.0.1.47.20180823-alpha.full/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX.0.1.47.20180823-alpha.full/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX.0.1.47.20180823-alpha.full/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../Downloads/HBuilderX.0.1.47.20180823-alpha.full/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX.0.1.47.20180823-alpha.full/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./phone.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../Downloads/HBuilderX.0.1.47.20180823-alpha.full/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Downloads/HBuilderX.0.1.47.20180823-alpha.full/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../Downloads/HBuilderX.0.1.47.20180823-alpha.full/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Downloads/HBuilderX.0.1.47.20180823-alpha.full/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./phone.vue?vue&type=template&id=14a6fb3d&\"","\n\n\n\n\n\n\n\n\n\n//微信提供的解密函数，请修改为你自己的路径  \nvar WXBizDataCrypt = require('../../css/WXBizDataCrypt.js');  \n\nexport default {    \n    data() {    \n        return {    \n            login_code : '',  \n        };    \n    },    \n    onLoad: function() {  \n\n        var that = this;  \n        uni.login({    \n            success: function(res) {    \n\n                // 获取code    \n                console.log(JSON.stringify(res));  \n                //{\"errMsg\":\"login:ok\",\"code\":\"071JIp1t1pv马赛克t1Ran1t1JIp1l\"}  \n\n                that.login_code = res.code;  \n\t\n            }  \n        });  \n\n    },  \n\n    methods: {  \n\n        getPhoneNumber: function(e) {    \n            console.log(e);    \n            if (e.detail.errMsg == 'getPhoneNumber:fail user deny') {    \n                console.log('用户拒绝提供手机号');  \n            } else {    \n                console.log('用户同意提供手机号');  \n\n                console.log(JSON.stringify(e.detail.encryptedData));    \n                console.log(JSON.stringify(e.detail.iv));   \n\n                var encryptedData = e.detail.encryptedData;  \n                var iv = e.detail.iv;  \n\n                ////////////////////////////////////////////////////////////////////////////////  \n                //定义在根目录下的main.js里  \n                //Vue.prototype.APPID                           = 'wxb1a马赛克2bfc90a';  \n                //Vue.prototype.SECRET                          = 'b3ae36758马赛克dbe146d9acd81d';  \n                //Vue.prototype.WX_AUTH_URL                     = 'https://api.weixin.qq.com/sns/jscode2session';  \n\n                var JSCODE = this.login_code;  \n                var APPID = this.APPID;  \n                var SECRET = this.SECRET;  \n                var wx_author_url = 'https://api.weixin.qq.com/sns/jscode2session' + '?appid=wx02c9a76ab01f424c' + '&secret=22f25c64080e8a640d93d104cbc2a3ea' + '&js_code=' + JSCODE + '&grant_type=authorization_code';  \n\n                uni.request({  \n                    url : wx_author_url,  \n                    success(re){  \n                        console.log( 'session_key:' + re.data.session_key );  \n\n                        var appId = APPID;  \n                        var sessionKey = re.data.session_key;  \n\n                        var pc = new WXBizDataCrypt(appId, sessionKey);  \n                        var data = pc.decryptData(encryptedData, iv);  \n\n                        console.log('------------------->');  \n                        console.log('解密后 data: ', data);  \n                        // console.log('解密后 data: ', JSON.stringify(data));  \n                        /*  \n                            {  \n                                \"phoneNumber\": \"139马赛克9490\",  \n                                \"purePhoneNumber\": \"139马赛克9490\",  \n                                \"countryCode\": \"86\",  \n                                \"watermark\": {  \n                                    \"timestamp\": 1560577589,  \n                                    \"appid\": \"wxb1a马赛克12bfc90a\"  \n                                }  \n                            }  \n                        */  \n                        console.log('------------------->');  \n\n                    }  \n                });  \n                ////////////////////////////////////////////////////////////////////////////////  \n\n            }    \n\n        },  \n\n     \n    }    \n}    \n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"view\",\n    [\n      _c(\n        \"button\",\n        {\n          attrs: { \"open-type\": \"getPhoneNumber\", eventid: \"ea4ae2fe-0\" },\n          on: { getphonenumber: _vm.getPhoneNumber }\n        },\n        [_vm._v(\"获取电话号码\")]\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}